{"version":3,"file":"commonHelpers.js","sources":["../src/js/custom_iziToast.js","../src/js/fetching.js","../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst errorMessage = \"Sorry, there are no images matching<br> your search query. Please try again!\";\nexport const iziToastError = {\n    title: 'Error',\n    message: errorMessage,\n    messageSize: '16px',\n    position: 'topRight',\n    theme: 'dark',\n    backgroundColor: \"#EF4040\",\n    color: \"#ffffff\",\n}","\n\nconst URL = 'https://pixabay.com/api/';\nconst API_KEY = '41991233-e464ef3fed32efbb52a55d5bb';\n\nconst fullAddres = `${URL}?key=${API_KEY}`;\n\nexport function fetchGallery(userRequest) {\n    const searchingParameters = new URLSearchParams({\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n        per_page: 15,\n    })\n    return fetch(`${fullAddres}&q=${userRequest}&${searchingParameters}`)\n        .then((responce) => {\n            if (!responce.ok) {\n                throw new Error(responce.status)\n            }\n            return responce.json();\n        })\n}\n","import iziToast from \"izitoast\";\nimport { iziToastError } from \"./js/custom_iziToast\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { fetchGallery } from \"./js/fetching\";\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\nconst spinner = document.querySelector('#loader');\n\nfunction renderImage({ hits }) {\n    const markup = hits\n        .map(({ webformatURL, largeImageURL, likes, tags, views, comments, downloads }) => {\n            return `\n                <li class=\"gallery-item\">\n                    <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                        <img\n                            class=\"gallery-image\"\n                            src=\"${webformatURL}\"\n                            alt=\"${tags}\"/>\n                        <ul class=\"descriptions\">\n                            <li class=\"description-item\">\n                                <p class=\"name\">Likes</p>\n                                <p class=\"count\">${likes}</p>\n                            </li>\n                            <li class=\"description-item\">\n                                <p class=\"name\">Viewes</p>\n                                <p class=\"count\">${views}</p>\n                            </li>\n                            <li class=\"description-item\">\n                                <p class=\"name\">Comments</p>\n                                <p class=\"count\">${comments}</p>\n                            </li>\n                            <li class=\"description-item\">\n                                <p class=\"name\">Downloads</p>\n                                <p class=\"count\">${downloads}</p>\n                            </li>\n                        </ul>\n                    </a>\n                </li>\n            `\n        })\n        .join(\"\");\n\n    gallery.insertAdjacentHTML('afterbegin', markup);\n}\n\n\nform.addEventListener('submit', (e) => {\n    e.preventDefault();\n    spinner.classList.add('loader');\n\n    const userRequest = form.elements.input.value;\n    fetchGallery(userRequest)\n        .then(data => {\n            data.hits.length != 0 ? renderImage(data) : iziToast.error(iziToastError)\n            spinner.classList.remove('loader');\n\n            lightBoxImageGallery();\n        })\n        .then(() => console.log(form.children))\n        .catch(error => console.log(error))\n\n    const pictureItem = document.querySelectorAll('.gallery-item')\n    pictureItem.forEach(item => item.remove());\n    // не впевнений шо так також можна gallery.innerHTML = '';\n    form.reset();\n})\n\nfunction lightBoxImageGallery() {\n    let lightbox = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionsPosition: 'bottom',\n        captionsDelay: 250,\n    });\n    lightbox.show();\n    lightbox.refresh();\n    return lightbox;\n}"],"names":["errorMessage","iziToastError","URL","API_KEY","fullAddres","fetchGallery","userRequest","searchingParameters","responce","form","gallery","spinner","renderImage","hits","markup","webformatURL","largeImageURL","likes","tags","views","comments","downloads","e","data","iziToast","lightBoxImageGallery","error","item","lightbox","SimpleLightbox"],"mappings":"6vBAGA,MAAMA,EAAe,+EACRC,EAAgB,CACzB,MAAO,QACP,QAASD,EACT,YAAa,OACb,SAAU,WACV,MAAO,OACP,gBAAiB,UACjB,MAAO,SACX,ECVME,EAAM,2BACNC,EAAU,qCAEVC,EAAa,GAAGF,SAAWC,IAE1B,SAASE,EAAaC,EAAa,CACtC,MAAMC,EAAsB,IAAI,gBAAgB,CAC5C,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EAClB,CAAK,EACD,OAAO,MAAM,GAAGH,OAAgBE,KAAeC,GAAqB,EAC/D,KAAMC,GAAa,CAChB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,CACT,CCdA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAU,SAAS,cAAc,SAAS,EAEhD,SAASC,EAAY,CAAE,KAAAC,GAAQ,CAC3B,MAAMC,EAASD,EACV,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,MAAAC,EAAO,KAAAC,EAAM,MAAAC,EAAO,SAAAC,EAAU,UAAAC,KACxD;AAAA;AAAA,oDAEiCL;AAAA;AAAA;AAAA,mCAGjBD;AAAA,mCACAG;AAAA;AAAA;AAAA;AAAA,mDAIgBD;AAAA;AAAA;AAAA;AAAA,mDAIAE;AAAA;AAAA;AAAA;AAAA,mDAIAC;AAAA;AAAA;AAAA;AAAA,mDAIAC;AAAA;AAAA;AAAA;AAAA;AAAA,aAM1C,EACA,KAAK,EAAE,EAEZX,EAAQ,mBAAmB,aAAcI,CAAM,CACnD,CAGAL,EAAK,iBAAiB,SAAWa,GAAM,CACnCA,EAAE,eAAc,EAChBX,EAAQ,UAAU,IAAI,QAAQ,EAE9B,MAAML,EAAcG,EAAK,SAAS,MAAM,MACxCJ,EAAaC,CAAW,EACnB,KAAKiB,GAAQ,CACVA,EAAK,KAAK,QAAU,EAAIX,EAAYW,CAAI,EAAIC,EAAS,MAAMvB,CAAa,EACxEU,EAAQ,UAAU,OAAO,QAAQ,EAEjCc,GACZ,CAAS,EACA,KAAK,IAAM,QAAQ,IAAIhB,EAAK,QAAQ,CAAC,EACrC,MAAMiB,GAAS,QAAQ,IAAIA,CAAK,CAAC,EAElB,SAAS,iBAAiB,eAAe,EACjD,QAAQC,GAAQA,EAAK,OAAQ,CAAA,EAEzClB,EAAK,MAAK,CACd,CAAC,EAED,SAASgB,GAAuB,CAC5B,IAAIG,EAAW,IAAIC,EAAe,aAAc,CAC5C,aAAc,MACd,iBAAkB,SAClB,cAAe,GACvB,CAAK,EACD,OAAAD,EAAS,KAAI,EACbA,EAAS,QAAO,EACTA,CACX"}