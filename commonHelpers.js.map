{"version":3,"file":"commonHelpers.js","sources":["../src/js/custom_iziToast.js","../src/js/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst errorMessage = \"Sorry, there are no images matching<br> your search query. Please try again!\";\nexport const iziToastError = {\n    title: 'Error',\n    message: errorMessage,\n    messageSize: '16px',\n    position: 'topRight',\n    theme: 'dark',\n    backgroundColor: \"#EF4040\",\n    color: \"#ffffff\",\n}","// Описаний у документації\nimport iziToast from \"izitoast\";\nimport { iziToastError } from \"./custom_iziToast\";\n\n\nconst form = document.querySelector('.form');\nconst input = document.querySelector('.responce-input');\nconst gallery = document.querySelector('.image-gallery');\n\n\n\nconst URL = 'https://pixabay.com/api/';\nconst API_KEY = '41991233-e464ef3fed32efbb52a55d5bb';\n\nconst fullAddres = `${URL}?key=${API_KEY}`;\n\n\nform.addEventListener('submit', (e) => {\n    e.preventDefault();\n\n    const userRequest = form.elements.input.value;\n\n    fetchGallery(userRequest)\n        .then(data => renderImage(data))\n        .catch(error => console.log(error))\n})\n\nfunction fetchGallery(userRequest) {\n    const searchParams = new URLSearchParams({\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n        per_page: 9,\n    })\n\n    return fetch(`${fullAddres}&q=${userRequest}&${searchParams}`)\n        .then((responce) => {\n            if (!responce.ok) {\n                throw new Error(responce.status)\n            }\n            return responce.json();\n        })\n}\n\nfunction renderImage({ hits }) {\n\n    if (hits.length === 0) {\n        return iziToast.error(iziToastError);\n    }\n    const markup = hits\n        .map(({ id, previewURL }) => {\n            return `\n                <li class=\"gallery-item\">\n                    <img src=\"${previewURL}\" id=\"${id}\"/>\n                </li>\n            `\n        }).join(\"\");\n\n    gallery.insertAdjacentHTML('afterbegin', markup);\n}\n"],"names":["errorMessage","iziToastError","form","gallery","URL","API_KEY","fullAddres","e","userRequest","fetchGallery","data","renderImage","error","searchParams","responce","hits","iziToast","markup","id","previewURL"],"mappings":"svBAGA,MAAMA,EAAe,+EACRC,EAAgB,CACzB,MAAO,QACP,QAASD,EACT,YAAa,OACb,SAAU,WACV,MAAO,OACP,gBAAiB,UACjB,MAAO,SACX,ECPME,EAAO,SAAS,cAAc,OAAO,EAC7B,SAAS,cAAc,iBAAiB,EACtD,MAAMC,EAAU,SAAS,cAAc,gBAAgB,EAIjDC,EAAM,2BACNC,EAAU,qCAEVC,EAAa,GAAGF,SAAWC,IAGjCH,EAAK,iBAAiB,SAAWK,GAAM,CACnCA,EAAE,eAAc,EAEhB,MAAMC,EAAcN,EAAK,SAAS,MAAM,MAExCO,EAAaD,CAAW,EACnB,KAAKE,GAAQC,EAAYD,CAAI,CAAC,EAC9B,MAAME,GAAS,QAAQ,IAAIA,CAAK,CAAC,CAC1C,CAAC,EAED,SAASH,EAAaD,EAAa,CAC/B,MAAMK,EAAe,IAAI,gBAAgB,CACrC,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,CAClB,CAAK,EAED,OAAO,MAAM,GAAGP,OAAgBE,KAAeK,GAAc,EACxD,KAAMC,GAAa,CAChB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,CACT,CAEA,SAASH,EAAY,CAAE,KAAAI,GAAQ,CAE3B,GAAIA,EAAK,SAAW,EAChB,OAAOC,EAAS,MAAMf,CAAa,EAEvC,MAAMgB,EAASF,EACV,IAAI,CAAC,CAAE,GAAAG,EAAI,WAAAC,KACD;AAAA;AAAA,gCAEaA,UAAmBD;AAAA;AAAA,aAG1C,EAAE,KAAK,EAAE,EAEdf,EAAQ,mBAAmB,aAAcc,CAAM,CACnD"}